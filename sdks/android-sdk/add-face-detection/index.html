<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Integrate Face Detection | openXEdge Developers</title>
<meta name="description" content="Add Face Detection to an Android workshop application" />
<meta property="og:type" content="website" />
<meta property="og:title" content="Integrate Face Detection" />
<meta property="og:description" content="Add Face Detection to an Android workshop application" />
<meta property="og:url" content="http://dev-v3.test/sdks/android-sdk/add-face-detection" />
<meta property="og:site_name" content="openXEdge Developers" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@mobiledgex" />
<meta name="twitter:title" content="Integrate Face Detection" />
<meta name="twitter:description" content="Add Face Detection to an Android workshop application" />
<meta property="og:image" content="http://dev-v3.test/img/containers/assets/social-developers.jpg/b1d19eb47e0ea441f7510b1a27b43974.jpg" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="1200" />
<meta property="og:image:alt" content="" />
<meta name="twitter:image" content="http://dev-v3.test/img/containers/assets/social-developers.jpg/b1d19eb47e0ea441f7510b1a27b43974.jpg" />
<meta name="twitter:image:alt" content="" />
<link href="http://dev-v3.test/" rel="home" />
<link href="http://dev-v3.test/sdks/android-sdk/add-face-detection" rel="canonical" />
<link type="text/plain" rel="author" href="http://dev-v3.test/humans.txt" />
  <script src="//code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"></script>

  <link rel="stylesheet" href="/css/theme.css?v=1643734718">
  <link rel="stylesheet" href="/css/androidstudio.min.css?v=1628534070">
  <script src="/js/highlight.min.js?v=1628534070"></script>

  <meta name="robots" content="noindex,nofollow">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js"></script>

  <meta name="theme-color" content="#273c4c">
</head>


<body
  class="bg-white default">

  <header class="duik-header">
  <nav class="properties navbar fixed-top d-none d-md-flex">
    <ul>
    </ul>
  </nav>
  <nav class="navbar navbar-dark fixed-top bg-terrain flex-nowrap p-0 main-nav">
    <a class="navbar-brand col-md-3 col-xl-2 mr-0 py-3" href="/">
      <img src="/img/logo-white.svg?v=1592862229" alt="openXEdge Developers" />
    </a>
    <ul class="navbar-nav duik-header__nav small text-nowrap flex-row px-3 ml-0 ml-sm-3">
      <li class="nav-item ml-lg-6 mb-2 mb-lg-0 d-none d-lg-inline">
        <a class="nav-link px-0" href="/getting-started">Getting
          Started</a>
      </li>
      <li class="nav-item ml-lg-6 mb-2 mb-lg-0 d-none d-lg-inline">
        <a class="nav-link px-0" href="/deployments">Guides and
          Tutorials</a>
      </li>
      <li class="nav-item ml-lg-6 mb-2 mb-lg-0 d-none d-xl-inline">
        <a class="nav-link px-0" href="/design">Design Principles</a>
      </li>
      <li class="nav-item ml-lg-6 mb-2 mb-lg-0 d-none d-xl-inline">
        <a class="nav-link px-0 active" href="/sdks">SDK and Libraries</a>
      </li>
      <li class="nav-item ml-lg-6 mb-2 mb-lg-0 d-none d-lg-inline">
        <a class="nav-link px-0" href="/apis">API Reference</a>
      </li>
      <li class="nav-item ml-lg-6 mb-2 mb-lg-0 d-none d-md-inline">
        <a class="nav-link px-0" href="/support">Support</a>
      </li>
      <li class="nav-item ml-lg-6 mb-2 mb-lg-0 d-none d-md-inline">
        <a class="nav-link px-0"
          href="/product/mobiledgex-community">Community</a>
      </li>
      <!-- Responsive Toggle Button -->
      <div class="d-flex d-md-none justify-content-between mb-5">
        <button class="btn btn-link pl-0" type="button" data-toggle="collapse" data-target="#sidebar-nav"
          aria-controls="sidebar-nav" aria-expanded="false" aria-label="Toggle navigation">
          <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 30 30" width="30" height="30" focusable="false">
            <path stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10"
              d="M4 7h22M4 15h22M4 23h22" />
          </svg>
        </button>
      </div>
      <!-- End Responsive Toggle Button -->
    </ul>
  </nav>
</header>


  <div class="container-fluid">
    <div class="row">
      <nav class="col-md-3 col-xl-2 bg-light duik-sidebar navbar-expand-md">
  <div class="collapse navbar-collapse" id="sidebar-nav">
    <div class="js-scrollbar duik-sidebar-sticky">
      <ul class="duik-sidebar__nav">
                          <li class="duik-sidebar__item">
            <a href="/getting-started" class="duik-sidebar__link">Getting Started</a>
          </li>
                                  <li class="subs depth-1 duik-sidebar__item">
            <a class="duik-sidebar__link">Product Overview</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/product" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/product/overview" class="duik-sidebar__link">What is openXEdge?</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/product/mobiledgex-edge-cloud" class="duik-sidebar__link">openXEdge Edge-Cloud Console</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/product/mobiledgex-sdk" class="duik-sidebar__link">openXEdge Client SDKs</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/product/mobiledgex-edge-services" class="duik-sidebar__link">openXEdge Edge Services</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/product/mobiledgex-community" class="duik-sidebar__link">openXEdge Developer Community</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/product/mobiledgex-demo" class="duik-sidebar__link">openXEdge Demo App</a>
          </li>
                
              </ul>
          </li>
                                  <li class="subs depth-1 duik-sidebar__item">
            <a class="duik-sidebar__link">Console App Deployments</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/deployments" class="duik-sidebar__link">Overview</a></li>
                                  <li class="subs depth-2 duik-sidebar__item">
            <a class="duik-sidebar__link">Organizations</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/deployments/accounts" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/accounts/manage-accts" class="duik-sidebar__link">Manage Accounts</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/accounts/org-users" class="duik-sidebar__link">Developer Organizations</a>
          </li>
                
              </ul>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/supported-apps-types" class="duik-sidebar__link">Application Types</a>
          </li>
                                  <li class="subs depth-2 duik-sidebar__item">
            <a class="duik-sidebar__link">Deployment Essentials</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/deployments/deployment-workflow" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/deployment-workflow/cloudlets" class="duik-sidebar__link">Cloudlets</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/deployment-workflow/cloudlet-pools" class="duik-sidebar__link">Cloudlet Pools</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/deployment-workflow/flavors" class="duik-sidebar__link">Flavors</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/deployment-workflow/clusters" class="duik-sidebar__link">Cluster Instances</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/deployment-workflow/app-definition" class="duik-sidebar__link">Application Definition</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/deployment-workflow/app-instances" class="duik-sidebar__link">Application Instances</a>
          </li>
                
              </ul>
          </li>
                                  <li class="subs depth-2 duik-sidebar__item">
            <a class="duik-sidebar__link">How-To Guides</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/deployments/application-deployment-guides" class="duik-sidebar__link">Overview</a></li>
                                  <li class="subs depth-3 duik-sidebar__item">
            <a class="duik-sidebar__link">openXEdge Hello World</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/deployments/application-deployment-guides/hello-world" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/application-deployment-guides/hello-world/uploading-your-first-docker-image" class="duik-sidebar__link">Create and Upload Your First Docker Image</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/application-deployment-guides/hello-world/running-your-first-docker-image" class="duik-sidebar__link">Running a Docker Image as an Application Instance</a>
          </li>
                
              </ul>
          </li>
                                  <li class="subs depth-3 duik-sidebar__item">
            <a class="duik-sidebar__link">Deploying Virtual Machines</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/deployments/application-deployment-guides/virtual-machine" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/application-deployment-guides/virtual-machine/linux" class="duik-sidebar__link">How To Deploy Linux VMs</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/application-deployment-guides/virtual-machine/windows" class="duik-sidebar__link">How To Deploy Windows VMs</a>
          </li>
                
              </ul>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/application-deployment-guides/how-to-deploy-docker-compose" class="duik-sidebar__link">Deploy Docker Compose using Multiple Files</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/application-deployment-guides/gpu" class="duik-sidebar__link">Deploy GPU Applications</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/application-deployment-guides/deploy-helm" class="duik-sidebar__link">Deploy a Helm V3 Application</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/application-deployment-guides/deploy-a-kubernetes-application" class="duik-sidebar__link">Deploy a Kubernetes Application</a>
          </li>
                
              </ul>
          </li>
                                  <li class="subs depth-2 duik-sidebar__item">
            <a class="duik-sidebar__link">Runtime Policies</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/deployments/application-runtime" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/application-runtime/autoscale" class="duik-sidebar__link">Auto Scaling with Kubernetes</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/application-runtime/auto-prov" class="duik-sidebar__link">Auto Provisioning Policy</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/application-runtime/high-availability" class="duik-sidebar__link">High Availabilty</a>
          </li>
                
              </ul>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/security" class="duik-sidebar__link">Security & Trust Policy</a>
          </li>
                                  <li class="subs depth-2 duik-sidebar__item">
            <a class="duik-sidebar__link">Monitoring Apps</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/deployments/monitoring-and-metrics" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/monitoring-and-metrics/application-utilization-metrics" class="duik-sidebar__link">Utilization Metrics</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/monitoring-and-metrics/logs" class="duik-sidebar__link">Usage Logs & Events</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/monitoring-and-metrics/monitoring-edge-events" class="duik-sidebar__link">Monitoring Edge Events</a>
          </li>
                
              </ul>
          </li>
                                  <li class="subs depth-2 duik-sidebar__item">
            <a class="duik-sidebar__link">Continuous Deployment / Integration</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/deployments/ci-cd" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/deployments/ci-cd/github-actions" class="duik-sidebar__link">GitHub Actions</a>
          </li>
                
              </ul>
          </li>
                
              </ul>
          </li>
                                  <li class="subs depth-1 duik-sidebar__item active">
            <a class="duik-sidebar__link">Client SDK Integration</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/sdks" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/sdks/tech-overview" class="duik-sidebar__link">Technical Overview</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/sdks/edge-events-overview" class="duik-sidebar__link">Edge Events Overview</a>
          </li>
                                  <li class="subs depth-2 duik-sidebar__item active">
            <a class="duik-sidebar__link">Android SDK</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/sdks/android-sdk" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/sdks/android-sdk/android-sdk-download" class="duik-sidebar__link">Download Instructions</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/sdks/android-sdk/android-sdk-sample" class="duik-sidebar__link">SDK Sample App</a>
          </li>
                                  <li class="duik-sidebar__item active current">
            <a href="/sdks/android-sdk/add-face-detection" class="duik-sidebar__link">Integrate Face Detection</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/sdks/android-sdk/android-third-party-licenses" class="duik-sidebar__link">Android Third Party Licenses</a>
          </li>
                
              </ul>
          </li>
                                  <li class="subs depth-2 duik-sidebar__item">
            <a class="duik-sidebar__link">iOS SDK</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/sdks/ios-sdk" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/sdks/ios-sdk/ios-sdk-download" class="duik-sidebar__link">Download Instructions</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/sdks/ios-sdk/ios-sdk-sample" class="duik-sidebar__link">Augmented Reality Sample App</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/sdks/ios-sdk/ios-sdk-third-party-licenses" class="duik-sidebar__link">iOS SDK Third Party Licenses</a>
          </li>
                
              </ul>
          </li>
                                  <li class="subs depth-2 duik-sidebar__item">
            <a class="duik-sidebar__link">Unity SDK</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/sdks/unity-sdk" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/sdks/unity-sdk/c-sharp-sdk" class="duik-sidebar__link">C# Download Instructions</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/sdks/unity-sdk/unity-sdk-download" class="duik-sidebar__link">Unity Download Instructions</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/sdks/unity-sdk/unity-sdk-sample" class="duik-sidebar__link">Unity Sample App</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/sdks/unity-sdk/edge-events" class="duik-sidebar__link">Unity Edge Events (Beta)</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/sdks/unity-sdk/c-sdk-third-party-licenses" class="duik-sidebar__link">C# SDK Third Party Licenses</a>
          </li>
                
              </ul>
          </li>
                
              </ul>
          </li>
                                  <li class="subs depth-1 duik-sidebar__item">
            <a class="duik-sidebar__link">openXEdge Edge Services</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/services" class="duik-sidebar__link">Overview</a></li>
                                  <li class="subs depth-2 duik-sidebar__item">
            <a class="duik-sidebar__link">openXEdge Computer Vision</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/services/computer-vision" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/services/computer-vision/cv-deployment" class="duik-sidebar__link">Computer Vision Server Deployment</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/services/computer-vision/how-to-computer-vision-api" class="duik-sidebar__link">Computer Vision Server REST API</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/services/computer-vision/add-comp-vision-unity" class="duik-sidebar__link">Unity Computer Vision SDK</a>
          </li>
                
              </ul>
          </li>
                                  <li class="subs depth-2 duik-sidebar__item">
            <a class="duik-sidebar__link">openXEdge Multiplayer Service</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/services/unity-edgemultiplay" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/services/unity-edgemultiplay/how-to-use-edge-multiplay" class="duik-sidebar__link">Getting Started with EdgeMultiplay</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/services/unity-edgemultiplay/running-edge-multiplay" class="duik-sidebar__link">Running the EdgeMultiplay Server Locally</a>
          </li>
                
              </ul>
          </li>
                
              </ul>
          </li>
                                  <li class="subs depth-1 duik-sidebar__item">
            <a class="duik-sidebar__link">Edge Developer Tools</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/tools" class="duik-sidebar__link">Overview</a></li>
                                  <li class="subs depth-2 duik-sidebar__item">
            <a class="duik-sidebar__link">Command Line Interface: mcctl</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/tools/mcctl-guides" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/tools/mcctl-guides/api-key-access" class="duik-sidebar__link">API Key Access and Permissions</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/tools/mcctl-guides/mcctl-developer" class="duik-sidebar__link">How to use the mcctl utility for Developers</a>
          </li>
                                  <li class="subs depth-3 duik-sidebar__item">
            <a class="duik-sidebar__link">mcctl Utility Reference</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/tools/mcctl-guides/mcctl-reference" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/tools/mcctl-guides/mcctl-reference/mcctl-installation-and-setup-guide" class="duik-sidebar__link">mcctl Installation and Setup Guide</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/tools/mcctl-guides/mcctl-reference/metric-and-usage-commands" class="duik-sidebar__link">Metric and Usage Commands</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/tools/mcctl-guides/mcctl-reference/application-and-monitoring-commands" class="duik-sidebar__link">Application and Monitoring Commands</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/tools/mcctl-guides/mcctl-reference/audit-and-regional-commands" class="duik-sidebar__link">Regional Commands</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/tools/mcctl-guides/mcctl-reference/alert-management-commands" class="duik-sidebar__link">Alert Management Commands</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/tools/mcctl-guides/mcctl-reference/automatic-policies-commands" class="duik-sidebar__link">Automatic Policies Commands</a>
          </li>
                
              </ul>
          </li>
                
              </ul>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/tools/edgebox" class="duik-sidebar__link">Local Edge Testing : EdgeBox</a>
          </li>
                
              </ul>
          </li>
                                  <li class="subs depth-1 duik-sidebar__item">
            <a class="duik-sidebar__link">Design Principles</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/design" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/design/best-practice-container-deploy" class="duik-sidebar__link">Best Practices : Deployments</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/design/best-practice-sdk" class="duik-sidebar__link">Best Practices : Client SDKs</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/design/load-balancing" class="duik-sidebar__link">Best Practices : Load Balancing</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/design/sizing-applications" class="duik-sidebar__link">Best Practices : Sizing Applications</a>
          </li>
                                  <li class="subs depth-2 duik-sidebar__item">
            <a class="duik-sidebar__link">Best Practices: Debugging</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/design/testing-and-debugging" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/design/testing-and-debugging/alarms" class="duik-sidebar__link">Alerts</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/design/testing-and-debugging/health-check" class="duik-sidebar__link">Health Check</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/design/testing-and-debugging/storing-metrics" class="duik-sidebar__link">Storing Metrics and Insights</a>
          </li>
                
              </ul>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/design/how-to-stress-test" class="duik-sidebar__link">Stress Testing</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/design/running-sshd-inside-container" class="duik-sidebar__link">Running SSHD Inside a Container</a>
          </li>
                
              </ul>
          </li>
                                  <li class="subs depth-1 duik-sidebar__item">
            <a class="duik-sidebar__link">openXEdge Release Notes</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/release-notes" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/release-notes/sdk" class="duik-sidebar__link">SDK Release Notes</a>
          </li>
                                  <li class="subs depth-2 duik-sidebar__item">
            <a class="duik-sidebar__link">Console Release Notes</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/release-notes/console" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="/release-notes/console/release-notes-3-0" class="duik-sidebar__link">3.0</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/release-notes/console/2_4_0" class="duik-sidebar__link">2.4</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/release-notes/console/2_0_0" class="duik-sidebar__link">2.0</a>
          </li>
                
              </ul>
          </li>
                
              </ul>
          </li>
                                  <li class="subs depth-1 duik-sidebar__item">
            <a class="duik-sidebar__link">API Reference</a>
              <ul class="duik-sidebar__nav">
                <li class="duik-sidebar__item"><a href="/apis" class="duik-sidebar__link">Overview</a></li>
                                  <li class="duik-sidebar__item">
            <a href="https://api.openxedge.net" class="duik-sidebar__link">Device APIs</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="https://api.openxedge.net/mc" class="duik-sidebar__link">Edge Orchestration APIs</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="https://mobiledgex.github.io/edge-cloud-sdk-unity" class="duik-sidebar__link">Unity SDK Manual</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="https://mobiledgex.github.io/edge-cloud-sdk-android/" class="duik-sidebar__link">Android SDK Manual</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="https://mobiledgex.github.io/MatchingEngineSDK/rest/index.html" class="duik-sidebar__link">Swift SDK Manual</a>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="https://api.openxedge.net/swagger/mexdemo/edge-cloud-sdk-csharp/html/index.html" class="duik-sidebar__link">C# SDK Manual</a>
          </li>
                
              </ul>
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/support" class="duik-sidebar__link">FAQs and Support</a>
          </li>
                                  <li class="duik-sidebar__item">
          </li>
                                  <li class="duik-sidebar__item">
            <a href="/glossary-of-terms" class="duik-sidebar__link">Glossary of Terms</a>
          </li>
                
      </ul>
      <hr class="d-block d-md-none">
      <ul class="duik-sidebar__nav d-block d-md-none">
        <li class="duik-sidebar__item"><a href="https://openxedge.net" class="duik-sidebar__link">openXEdge Home</a></li>
        <li class="duik-sidebar__item"><a href="https://openxedge.net/product" class="duik-sidebar__link">Product</a></li>
        <li class="duik-sidebar__item"><a href="https://openxedge.net/use-cases" class="duik-sidebar__link">Use Cases</a></li>
        <li class="duik-sidebar__item"><a href="https://openxedge.net/about" class="duik-sidebar__link">About</a></li>
        <li class="duik-sidebar__item"><a href="https://openxedge.net/blog" class="duik-sidebar__link">Blog</a></li>
        <li class="duik-sidebar__item"><a href="https://operators.openxedge.net" class="duik-sidebar__link">Operators</a></li>
      </ul>
    </div>
  </div>
</nav>
<script type="text/javascript">
    $(document).ready(function() {
      $('li.subs.depth-3 > a').click(function() {
        if ($(this).parent().hasClass('active')) {
          $('li.subs.depth-3').removeClass('active');
        } else {
          $('li.subs.depth-3').removeClass('active');
          $(this).parent().toggleClass('active');
        }
      });
      $('li.subs.depth-2 > a').click(function() {
        if ($(this).parent().hasClass('active')) {
          $('li.subs.depth-2').removeClass('active');
        } else {
          $('li.subs.depth-2').removeClass('active');
          $(this).parent().toggleClass('active');
        }
      });
      $('li.subs.depth-1 > a').click(function() {
        if ($(this).parent().hasClass('active')) {
          $('li.subs.depth-1').removeClass('active');
        } else {
          $('li.subs.depth-1').removeClass('active');
          $(this).parent().toggleClass('active');
        }
      })
    });
</script>

                  <main class="ml-md-auto col-md-9 col-xl-10 px-4 pt-0 pt-md-11">
        <div class="row pt-3">
          <div class="col-xl-2 order-xl-2 d-none d-xl-inline-block toc"></div>          <div class="col-xl-10 order-xl-1 duik-content border-bottom">
            <div class="mb-7">
              <script type="text/javascript">
  $(document).ready(function () {
    $('#copyshortlink').click(function (e) {
      e.preventDefault()
      var copyText = document.getElementById('shortlink')
      var tooltip = document.getElementById('myTooltip')
      $(copyText).show()
      copyText.select()
      copyText.setSelectionRange(0, 99999)
      document.execCommand('copy')
      $(copyText).hide()
      tooltip.innerHTML = 'Copied: ' + copyText.value
    })
    $('#copyshortlink').mouseout(function () {
      var tooltip = document.getElementById('myTooltip')
      tooltip.innerHTML = 'Copy link to clipboard'
    })
  })
</script>


<div class="markdown-body">
      <h1>
    Add Face Detection to the Android Sample App <input type="text" id="shortlink" value="http://dev-v3.test/t/a2190a20" style="display: none;">
    <div class="copyTooltip">
      <a href="" id="copyshortlink">
        <span class="tooltiptext" id="myTooltip">Copy link to clipboard</span>
        <svg fill="rgba(39,60,76,.5)" width="15pt" height="15pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <g>
            <path d="m91.762 8.2422c-5.3164-5.3164-12.379-8.2422-19.887-8.2422s-14.57 2.9258-19.883 8.2422c0 0-17.742 17.734-18.758 18.742-5.293 5.3047-8.2188 12.379-8.2305 19.938 0.011719 7.5 2.9375 14.547 8.2383 19.848l2.2891 2.2891c0.60938 0.60938 1.4102 0.91406 2.2109 0.91406 0.80078 0 1.6016-0.30469 2.2109-0.91406l4.418-4.418c1.2227-1.2227 1.2227-3.1953 0-4.418l-2.2891-2.2891c-5.9922-5.9961-6.0742-15.824-0.17969-21.922 0.18359-0.1875 18.934-18.93 18.934-18.93 2.9414-2.957 6.8672-4.582 11.043-4.582 4.168 0 8.0898 1.625 11.039 4.5703 0.003906 0 0.003906 0.007813 0.003906 0.007813 6.1016 6.1094 6.1016 15.992 0.003906 22.094l-0.96875 0.96484c1.5195 4.0586 2.4141 8.4102 2.418 12.988 0 0.83203-0.11328 1.6289-0.16406 2.4414l7.5547-7.5547c10.984-10.988 10.977-28.801-0.003906-39.77z" />
            <path d="m8.2383 91.758c5.3164 5.3164 12.379 8.2422 19.887 8.2422s14.57-2.9258 19.883-8.2422c0 0 17.742-17.734 18.758-18.742 5.293-5.3047 8.2188-12.379 8.2305-19.938-0.011719-7.5-2.9375-14.547-8.2383-19.848l-2.2891-2.2891c-0.60938-0.60938-1.4102-0.91406-2.2109-0.91406-0.80078 0-1.6016 0.30469-2.2109 0.91406l-4.418 4.418c-1.2227 1.2227-1.2227 3.1953 0 4.418l2.2891 2.2891c5.9922 5.9961 6.0742 15.824 0.17969 21.922-0.18359 0.1875-18.934 18.93-18.934 18.93-2.9414 2.957-6.8672 4.582-11.043 4.582-4.168 0-8.0898-1.625-11.039-4.5703l-0.003906-0.007813c-6.1016-6.1094-6.1016-15.992-0.003906-22.094l0.96875-0.96484c-1.5195-4.0586-2.4141-8.4102-2.418-12.988 0-0.83203 0.11328-1.6289 0.16406-2.4414l-7.5547 7.5547c-10.984 10.988-10.977 28.801 0.003906 39.77z" />
          </g>
        </svg>
      </a>
    </div>
  </h1>
    
      <p><strong>Last Modified:</strong> 11/23/21</p><p>Through this application, you will see the benefits of Edge computing for latency sensitive applications. We will also take a look at GPU-accelerated body pose detection as an example of offloading a heavy workload to an Edge cloudlet. Before starting this workshop, make sure you have worked through the How-To: Android Workshop: Add Edge Support to Workshop App which shows you how to call several of openXEdge&#039;s Distributed Matching Engine APIs.</p><p>We will be making use of a openXEdge library:</p><ul><li><p>The <strong>openXEdge ComputerVision</strong> library provides classes and interfaces to work with the Android device&#039;s camera, and to send images to a Face Detection server and receive and process the server&#039;s responses.</p></li></ul><p>This library has been published to a Maven repository and we will be adding itfd to our workshop project. To interface with the library, we must update the workshop code to instantiate several classes and implement several interfaces. This document will walk you through how to do this.</p><h2 id='workshop-goals'><a class='anchor' aria-hidden='true' href='#workshop-goals'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Workshop Goals</h2><ol start="1"><li><p>Add a face detection activity using the openXEdge Computer Vision library.</p></li><li><p>Add Edge support to the face detection activity, to get best possible latency for on-screen face tracking.</p></li><li><p>Experiment with face recognition and pose detection.</p></li><li><p>Hack on the app with your own ideas.</p></li></ol><h2 id='prerequisites'><a class='anchor' aria-hidden='true' href='#prerequisites'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Prerequisites</h2><ol start="1"><li><p>Android app development experience.</p></li><li><p>Android Studio installed and up to date. This installation can be a lengthy process, so please have your</p></li><li><p>development environment in good shape before the start of the workshop.</p></li><li><p>Access to the <strong>Workshop Skeleton</strong> app code.</p></li><li><p>Worked through <a href="https://developers.openxedge.net/sdks/android-sdk/android-sdk-sample"><strong>Add Edge Support to an Android Application</strong></a></p></li></ol><h2 id='instructions'><a class='anchor' aria-hidden='true' href='#instructions'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Instructions</h2><h3 id='add-the-mobiledgex-computervision-library'><a class='anchor' aria-hidden='true' href='#add-the-mobiledgex-computervision-library'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Add the openXEdge ComputerVision Library</h3><ol start="1"><li><p>Open Gradle Scripts/build.gradle</p></li><li><p>Add the following to the dependencies section:</p></li></ol><pre><code>// openXEdge Computer Vision library
implementation &#039;com.mobiledgex:computervision:1.1.3&#039;
implementation &#039;com.android.volley:volley:1.1.1&#039;
</code></pre><h3 id='face-processor-fragment-layout'><a class='anchor' aria-hidden='true' href='#face-processor-fragment-layout'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Face Processor Fragment Layout</h3><h4 id='add-face-box-renderer-to-layout'><a class='anchor' aria-hidden='true' href='#add-face-box-renderer-to-layout'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Add Face Box Renderer to Layout</h4>

      <figure class="">
  <img src="/assets/how-to-android-workshop-add-face-detection-to-workshop-app/1.png" class="img-fluid slb" alt="">
  <figcaption>Face Box Rendered to Layout</figcaption>
</figure>


      <p>In the WorkshopSkeleton project, there is an <strong>edgeFaceBoxRender</strong> placeholder that is defined as a generic View. Let&#039;s update it to a FaceBoxRenderer. Open <strong>app/res/layout/fragment<em>face</em>processor.xml</strong>. If the editor comes up in &quot;Design&quot; mode, change to the &quot;Code&quot; view (see pink oval below).</p>

      <figure class="">
  <img src="/assets/how-to-android-workshop-add-face-detection-to-workshop-app/2.png" class="img-fluid slb" alt="">
  <figcaption>Fragment_Face_Processor.xml</figcaption>
</figure>


      <p>Now search for <strong>edgeFaceBoxRender</strong>. Change its definition from &quot;View&quot; to &quot;com.mobiledgex.computervision.FaceBoxRenderer&quot;.</p><p>It will now look like this:</p><pre><code>&lt;com.mobiledgex.computervision.FaceBoxRenderer
    android:id=&quot;@+id/edgeFaceBoxRender&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    android:layout_gravity=&quot;center&quot; /&gt;
</code></pre><h2 id='modify-faceprocessorfragment'><a class='anchor' aria-hidden='true' href='#modify-faceprocessorfragment'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Modify FaceProcessorFragment</h2><p>Now let&#039;s edit the main class we will be using for Face Detection. Open <strong>app/java/com.mobiledgex.workshopskeleton/FaceProcessorFragment.java</strong>.</p>

      <figure class="">
  <img src="/assets/how-to-android-workshop-add-face-detection-to-workshop-app/3.png" class="img-fluid slb" alt="">
  <figcaption>FaceProcessorFragment.java</figcaption>
</figure>


      <h3 id='imports'><a class='anchor' aria-hidden='true' href='#imports'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a><strong>Imports</strong></h3><p>In <strong>FaceProcessorFragment.java</strong>, add the following imports:</p><pre><code>import com.mobiledgex.computervision.Camera2BasicFragment;
import com.mobiledgex.computervision.FaceBoxRenderer;
import com.mobiledgex.computervision.ImageProviderInterface;
import com.mobiledgex.computervision.ImageSender;
import com.mobiledgex.computervision.ImageServerInterface;
import com.mobiledgex.computervision.RollingAverage;
</code></pre><h3 id='class-definition'><a class='anchor' aria-hidden='true' href='#class-definition'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Class Definition</h3><p>Update the definition of the FaceProcessorFragment class to extend <a href="https://github.com/mobiledgex/edge-cloud-sampleapps/blob/master/android/MobiledgeXSDKDemo/computervision/src/main/java/com/mobiledgex/computervision/ImageProcessorFragment.java"><strong>ImageProcessorFragment</strong></a>, implement the library methods, and then add a <a href="https://github.com/mobiledgex/edge-cloud-sampleapps/blob/master/android/MobiledgeXSDKDemo/computervision/src/main/java/com/mobiledgex/computervision/FaceBoxRenderer.java"><strong>FaceBoxRenderer</strong></a> variable. The class definition should now look like this:</p><pre><code>public class FaceProcessorFragment extends com.mobiledgex.computervision.ImageProcessorFragment implements ImageServerInterface,
        ImageProviderInterface {
    private FaceBoxRenderer mFaceBoxRenderer;
</code></pre><h2 id='define-variables'><a class='anchor' aria-hidden='true' href='#define-variables'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Define Variables</h2><p>In this section we will instantiate our camera fragment, image sender, and face box renderer.</p><h3 id='preferences'><a class='anchor' aria-hidden='true' href='#preferences'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Preferences</h3><p>Before we instantiate our classes, we&#039;ll need access to some preferences and default values. Those are defined in the library&#039;s base <a href="https://github.com/mobiledgex/edge-cloud-sampleapps/blob/master/android/MobiledgeXSDKDemo/computervision/src/main/java/com/mobiledgex/computervision/ImageProcessorFragment.java"><strong>ImageProcessorFragment</strong></a> class, but we need to add some code to populate the values.</p><p>Search for the following comment:</p><pre><code>// TODO: Copy/paste the code to access preferences.
</code></pre><p>Directly after that (or in place of it), copy and paste the following code:</p><pre><code>SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(getContext());
prefs.registerOnSharedPreferenceChangeListener(this);
onSharedPreferenceChanged(prefs, &quot;ALL&quot;);
</code></pre><h3 id='camera-fragment'><a class='anchor' aria-hidden='true' href='#camera-fragment'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Camera Fragment</h3><p>The <a href="https://github.com/mobiledgex/edge-cloud-sampleapps/blob/master/android/MobiledgeXSDKDemo/computervision/src/main/java/com/mobiledgex/computervision/Camera2BasicFragment.java"><strong>Camera2BasicFragment</strong></a> class provides the image frames that we will be sending to the Face Detection server for processing. Let&#039;s instantiate ours now.</p><p>Search for the TODO that refers to &quot;Camera2BasicFragment&quot; and paste the following code:</p><pre><code>mCamera2BasicFragment = new Camera2BasicFragment();
mCamera2BasicFragment.setImageProviderInterface(this);
String prefKeyFrontCamera = getResources().getString(R.string.preference_fd_front_camera);
mCamera2BasicFragment.setCameraLensFacingDirection(prefs.getInt(prefKeyFrontCamera, CameraCharacteristics.LENS_FACING_FRONT));
FragmentTransaction transaction = getChildFragmentManager().beginTransaction();
transaction.replace(com.mobiledgex.computervision.R.id.child_camera_fragment_container, mCamera2BasicFragment).commit();
</code></pre><h3 id='image-sender'><a class='anchor' aria-hidden='true' href='#image-sender'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Image Sender</h3><p>The <a href="https://github.com/mobiledgex/edge-cloud-sampleapps/blob/master/android/MobiledgeXSDKDemo/computervision/src/main/java/com/mobiledgex/computervision/ImageSender.java"><strong>ImageSender</strong></a> class sends images to Face Detection server and receives results specifying rectangular coordinates for any detected faces. Let&#039;s instantiate our <a href="https://github.com/mobiledgex/edge-cloud-sampleapps/blob/master/android/MobiledgeXSDKDemo/computervision/src/main/java/com/mobiledgex/computervision/ImageSender.java"><strong>ImageSender</strong></a> now.</p><p>Search for the TODO that refers to &quot;ImageSender&quot; and paste the following code:</p><pre><code>mImageSenderEdge = new ImageSender.Builder()
        .setActivity(getActivity())
        .setImageServerInterface(this)
        .setCloudLetType(CloudletType.EDGE)
        .setHost(mHost)
        .setPort(mPort)
        .setPersistentTcpPort(PERSISTENT_TCP_PORT)
        .build();
mImageSenderEdge.setCameraMode(ImageSender.CameraMode.FACE_DETECTION);
mCameraMode = ImageSender.CameraMode.FACE_DETECTION;
mCameraToolbar.setTitle(&quot;Face Detection&quot;);
</code></pre><p>Here, we are using the mHost and mPort variables that were set in the GetConnection Workflow in the <a href="https://developers.openxedge.net/guides-and-tutorials/how-to-add-edge-support-to-an-android-app"><strong>How To: Add Edge Support to the Android Workshop App</strong></a> document.</p><h3 id='face-box-renderer'><a class='anchor' aria-hidden='true' href='#face-box-renderer'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Face Box Renderer</h3><p>The <a href="https://github.com/mobiledgex/edge-cloud-sampleapps/blob/master/android/MobiledgeXSDKDemo/computervision/src/main/java/com/mobiledgex/computervision/FaceBoxRenderer.java"><strong>FaceBoxRenderer</strong></a> draws the coordinates received from the Face Detection server. It is defined in <strong>fragment<em>face</em>processor.xml</strong>, but we need to assign a variable to it. We can also customize the look by changing the shape type (RECT or OVAL) and the color.</p><p>Search for the TODO referring to &quot;FaceBoxRenderer&quot; and paste the following into the class:</p><pre><code>mFaceBoxRenderer = view.findViewById(R.id.edgeFaceBoxRender);
mFaceBoxRenderer.setShapeType(FaceBoxRenderer.ShapeType.OVAL);
mFaceBoxRenderer.setColor(Color.CYAN);
</code></pre><h2 id='implement-mobiledgex-computer-vision-library-interfaces'><a class='anchor' aria-hidden='true' href='#implement-mobiledgex-computer-vision-library-interfaces'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Implement openXEdge Computer Vision Library Interfaces</h2><p>In this section, we will implement custom versions of the methods defined by the library&#039;s interfaces.</p><h3 id='imageprocessorinterface'><a class='anchor' aria-hidden='true' href='#imageprocessorinterface'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>ImageProcessorInterface</h3><p>The <a href="https://github.com/mobiledgex/edge-cloud-sampleapps/blob/master/android/MobiledgeXSDKDemo/computervision/src/main/java/com/mobiledgex/computervision/ImageProviderInterface.java"><strong>ImageProcessorInterface</strong></a> defines methods that must be implemented by classes that process images from the camera. Because our FaceProcessorFragment extends <a href="https://github.com/mobiledgex/edge-cloud-sampleapps/blob/master/android/MobiledgeXSDKDemo/computervision/src/main/java/com/mobiledgex/computervision/ImageProcessorFragment.java"><strong>com.mobiledgex.computervision.ImageProcessorFragment</strong></a>, these methods are already implemented. However, we want to perform custom processing every time an image is available, so we will be overriding onBitmapAvailable().</p><p>Search for the TODO referring to &quot;ImageProcessorInterface&quot; and paste the following into the class:</p><pre><code>/**
 * Perform any processing of the given bitmap.
 *
 * @param bitmap  The bitmap from the camera or video.
 * @param imageRect  The coordinates of the image on the screen. Needed for scaling/offsetting
 *                   resulting pose skeleton coordinates.
 */
@Override
public void onBitmapAvailable(Bitmap bitmap, Rect imageRect) {
    if(bitmap == null) {
        return;
    }
mImageRect = imageRect;
mServerToDisplayRatioX = (float) mImageRect.width() / bitmap.getWidth();
mServerToDisplayRatioY = (float) mImageRect.height() / bitmap.getHeight();

Log.d(TAG, &amp;quot;mImageRect=&amp;quot;+mImageRect.toShortString()+&amp;quot; mImageRect.height()=&amp;quot;+mImageRect.height()+&amp;quot; bitmap.getWidth()=&amp;quot;+bitmap.getWidth()+&amp;quot; bitmap.getHeight()=&amp;quot;+bitmap.getHeight()+&amp;quot; mServerToDisplayRatioX=&amp;quot; + mServerToDisplayRatioX +&amp;quot; mServerToDisplayRatioY=&amp;quot; + mServerToDisplayRatioY);

mImageSenderEdge.sendImage(bitmap);

}
</code></pre><p></p><h3 id='imageserverinterface'><a class='anchor' aria-hidden='true' href='#imageserverinterface'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>ImageServerInterface</h3><p>The <a href="https://github.com/mobiledgex/edge-cloud-sampleapps/blob/master/android/MobiledgeXSDKDemo/computervision/src/main/java/com/mobiledgex/computervision/ImageServerInterface.java"><strong>ImageServerInterface</strong></a> defines methods that must be implemented by classes that send images to the openXEdge Face Detection server and receive results back. These methods do things like draw rectangles around identified faces, or update the network latency stats. We will be implementing custom versions of many methods in the interface.</p><p>Search for the TODO referring to &quot;ImageServerInterface&quot; and paste the following into the class:</p><pre><code>/**
 * Update the face rectangle coordinates.
 *
 * @param cloudletType  The cloudlet type determines which FaceBoxRender to use.
 * @param rectJsonArray  An array of rectangular coordinates for each face detected.
 * @param subject  The Recognized subject name. Null or empty for Face Detection.
 */
@Override
public void updateOverlay(final CloudletType cloudletType, final JSONArray rectJsonArray, final String subject) {
    Log.i(TAG, &quot;updateOverlay Rectangles(&quot;+cloudletType+&quot;,&quot;+rectJsonArray.toString()+&quot;,&quot;+subject+&quot;)&quot;);
    new Handler(Looper.getMainLooper()).post(new Runnable() {
        @Override
        public void run() {
            if (getActivity() == null) {
                //Happens during screen rotation
                Log.e(TAG, &quot;updateOverlay abort - null activity&quot;);
                return;
            }
        boolean mirrored = mCamera2BasicFragment.getCameraLensFacingDirection() ==
                CameraCharacteristics.LENS_FACING_FRONT
                &amp;amp;&amp;amp; !mCamera2BasicFragment.isLegacyCamera()
                &amp;amp;&amp;amp; !mCamera2BasicFragment.isVideoMode();

        Log.d(TAG, &amp;quot;mirrored=&amp;quot; + mirrored + &amp;quot; mImageRect=&amp;quot; + mImageRect.toShortString() + &amp;quot; mServerToDisplayRatioX=&amp;quot; + mServerToDisplayRatioX +&amp;quot; mServerToDisplayRatioY=&amp;quot; + mServerToDisplayRatioY);

        mFaceBoxRenderer.setDisplayParms(mImageRect, mServerToDisplayRatioX, mServerToDisplayRatioY, mirrored, prefMultiFace);
        mFaceBoxRenderer.setRectangles(rectJsonArray, subject);
        mFaceBoxRenderer.invalidate();
        mFaceBoxRenderer.restartAnimation();
    }
});

}
public void updateFullProcessStats(final CloudletType cloudletType, RollingAverage rollingAverage) {
final long stdDev = rollingAverage.getStdDev();
final long latency = rollingAverage.getAverage();
if(getActivity() == null) {
Log.w(TAG, &quot;Activity has gone away. Abort UI update&quot;);
return;
}
getActivity().runOnUiThread(new Runnable() {
@Override
public void run() {
mLatencyFull.setText(&quot;Full Process Latency: &quot; + String.valueOf(latency/1000000) + &quot; ms&quot;);
mStdFull.setText(&quot;Stddev: &quot; + new DecimalFormat(&quot;#.##&quot;).format(stdDev/1000000) + &quot; ms&quot;);
}
});
}
@Override
public void updateNetworkStats(final CloudletType cloudletType, RollingAverage rollingAverage) {
final long stdDev = rollingAverage.getStdDev();
final long latency;
latency = rollingAverage.getAverage();
if(getActivity() == null) {
    Log.w(TAG, &amp;quot;Activity has gone away. Abort UI update&amp;quot;);
    return;
}
getActivity().runOnUiThread(new Runnable() {
    @Override
    public void run() {
       mLatencyNet.setText(&amp;quot;Network Only Latency: &amp;quot; + String.valueOf(latency/1000000) + &amp;quot; ms&amp;quot;);
       mStdNet.setText(&amp;quot;Stddev: &amp;quot; + new DecimalFormat(&amp;quot;#.##&amp;quot;).format(stdDev/1000000) + &amp;quot; ms&amp;quot;);            }
});

}
</code></pre><h2 id='almost-there'><a class='anchor' aria-hidden='true' href='#almost-there'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Almost There</h2>

      <figure class="">
  <img src="/assets/how-to-android-workshop-add-face-detection-to-workshop-app/4.jpg" class="img-fluid slb" alt="">
  <figcaption>Example 1: Face Detection</figcaption>
</figure>


      <h2 id='miscellaneous'><a class='anchor' aria-hidden='true' href='#miscellaneous'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a><strong>Miscellaneous</strong></h2><h3 id='remove-quotnot-implementedquot-message'><a class='anchor' aria-hidden='true' href='#remove-quotnot-implementedquot-message'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Remove &quot;Not implemented&quot; message</h3><p>Search for the TODO referring to the &quot;Not implemented&quot; message. Paste the following:</p><pre><code>mStatusText.setText(&quot;&quot;);
</code></pre><h3 id='add-getstatstext-method'><a class='anchor' aria-hidden='true' href='#add-getstatstext-method'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Add getStatsText method</h3><p>Search for the TODO referring to &quot;getStatsText&quot;. Update the method to look like this:</p><pre><code>public String getStatsText() {
    return mImageSenderEdge.getStatsText();
}
</code></pre><h2 id='define-menu-item-actions'><a class='anchor' aria-hidden='true' href='#define-menu-item-actions'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Define Menu Item Actions</h2><p>Our Face Detector has an options menu with a few items available, but they currently do nothing. Let&#039;s define the actions for each menu item.</p><p>Search for the TODO referring to &quot;onOptionsItemSelected&quot;. Paste the following:</p><pre><code>@Override
public boolean onOptionsItemSelected(MenuItem item) {
    int id = item.getItemId();
    if (id == R.id.action_camera_swap) {
        mCamera2BasicFragment.switchCamera();
        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(getContext());
        String prefKeyFrontCamera = getResources().getString(R.string.preference_fd_front_camera);
        prefs.edit().putInt(prefKeyFrontCamera, mCamera2BasicFragment.getCameraLensFacingDirection()).apply();
        return true;
    } else if (id == R.id.action_camera_video) {
        mCameraToolbar.setVisibility(View.GONE);
        mCamera2BasicFragment.startVideo();
        return true;
    } else if (id == R.id.action_camera_debug) {
        mCamera2BasicFragment.showDebugInfo();
        return true;
    }
    return false;
}
</code></pre><h2 id='success'><a class='anchor' aria-hidden='true' href='#success'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Success!</h2><p>If you start the Face Detection activity now and point the camera at your face, you should see a cyan oval drawn around it. Move the camera around a bit and notice how the shape tracks your face. Depending on your connection to the Face Detection Server, this tracking may be smooth or laggy.</p><h3 id='face-recognition-uses'><a class='anchor' aria-hidden='true' href='#face-recognition-uses'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Face recognition uses:</h3><ul><li><p>Functions with both front-facing and rear-facing cameras.</p></li><li><p>Can recognize multiple faces in the same image.</p></li></ul><ul><li><p>Supports both portrait and landscape mode.</p></li></ul>

      <figure class="">
  <img src="/assets/how-to-android-workshop-add-face-detection-to-workshop-app/5.jpg" class="img-fluid slb" alt="">
  <figcaption>Example 2: Multiple Faces Recognized in Landscape Mode</figcaption>
</figure>


      <h2 id='going-farther'><a class='anchor' aria-hidden='true' href='#going-farther'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a><strong>Going Farther</strong></h2><h3 id='use-closest-cloudlet-as-face-detection-host'><a class='anchor' aria-hidden='true' href='#use-closest-cloudlet-as-face-detection-host'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Use closest cloudlet as Face Detection host</h3><p>In this section we will use the results of the findCloudlet SDK call to determine what Face Detection server to connect to.</p><p>In <strong>MainActivity.java</strong>, in onNavigationItemSelected(), right before &quot;startActivity(intent);&quot;, add the following:</p><pre><code>if(mClosestCloudlet != null) {
    intent.putExtra(&quot;EXTRA_EDGE_CLOUDLET_HOSTNAME&quot;, mClosestCloudletHostName);
}
</code></pre><p>This will pass the hostname found by the MatchingEngine&#039;s findCloudlet call. Now in <strong>FaceProcessorFragment.java</strong>, find this code:</p><pre><code>String host = mHostDetectionEdge;
</code></pre><p>Right after that line, paste the following:</p><pre><code>Intent intent = getActivity().getIntent();
String cloudletHostname = intent.getStringExtra(&quot;EXTRA_EDGE_CLOUDLET_HOSTNAME&quot;);
if(cloudletHostname != null) {
    host = cloudletHostname;
}
</code></pre><p>Now build and run the app again. After clicking the button to find the closest cloudlet, start the Face Detection activity. You are now connecting to the closest possible Edge host that is running the face detection server. At this point, you should now see much lower latency and smoother face tracking.</p><h3 id='cloud-edge-comparison-app'><a class='anchor' aria-hidden='true' href='#cloud-edge-comparison-app'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Cloud/Edge comparison app</h3><p>If you would like to see a more fully featured face detection app that compares a cloud server to an edge server and demonstrates the latency differences, you can replace your FaceProcessorFragment with one provided by the com.mobiledgex.computervision library. Follow these steps:</p><ol start="1"><li><p>Open <strong>AndroidManifest.xml</strong>.</p></li><li><p>Add the ImageProcessorActivity activity that is included in the com.mobiledgex.computervision library. We will also include the Settings activity so we can tweak the behavior.</p></li></ol><pre><code>&lt;activity
    android:name=&quot;com.mobiledgex.computervision.ImageProcessorActivity&quot;
    android:label=&quot;Face Detector&quot;
    android:theme=&quot;@style/AppTheme.NoActionBar&quot; /&gt;
&lt;activity
    android:name=&quot;com.mobiledgex.computervision.SettingsActivity&quot;
    android:label=&quot;Settings&quot; /&gt;
</code></pre><ol start="3"><li><p>Open <strong>MainActivity.java</strong>.</p></li><li><p>Add the following import:</p></li></ol><pre><code>import com.mobiledgex.computervision.ImageProcessorActivity;
</code></pre><ol start="5"><li><p>In <strong>MainActivity.java</strong>, in onNavigationItemSelected(), change the intent to start with ImageProcessorActivity instead of FaceProcessorActivity. Your change should look like this:</p></li></ol><pre><code>Intent intent = new Intent(this, ImageProcessorActivity.class);
</code></pre><ol start="6"><li><p>Now when you start Face Detection, you will see 2 sets of latency numbers: Cloud in red, and Edge in green.</p></li><li><p>You can tap the Settings icon to access the preferences for this activity where you can change several things:</p></li><li><p>Change host names for both Cloud and Edge.</p></li><li><p>Toggle extra latency statistics fields.</p></li><li><p>Toggle latency test method.</p></li></ol><h2 id='face-recognition-and-pose-detection'><a class='anchor' aria-hidden='true' href='#face-recognition-and-pose-detection'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Face Recognition and Pose Detection</h2><p>The com.mobiledgex.computervision library is capable of more than just Face Detection. You can access additional features by starting different included activities.</p><h3 id='face-recognition'><a class='anchor' aria-hidden='true' href='#face-recognition'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Face Recognition</h3><ol start="1"><li><p>Open <strong>MainActivity.java</strong>.</p></li><li><p>In the onNavigationItemSelected method, replace FaceProcessorActivity with ImageProcessorActivity and add a boolean extra named &quot;extra<em>face</em>recognition&quot;. That section will now look like this:</p></li></ol><pre><code>Intent intent = new Intent(this, ImageProcessorActivity.class);
intent.putExtra(&quot;EXTRA_FACE_RECOGNITION&quot;, true);
</code></pre><ol start="3"><li><p>Now the Face Detection activity will start in Recognition mode. If you are a new user who has never submitted face training data, the faces will most likely be identified as &quot;Unknown&quot;.</p></li><li><p>If you would like to submit face training data, choose &quot;Sign In with Google&quot; from the main menu and enter your Gmail account credentials.</p></li><li><p>At that point, you can choose &quot;Training Mode&quot; from the options menu in the Face Detection activity.</p></li><li><p>After several images are accepted by the Face Training Server and processed, your face should start to be recognized correctly.</p></li></ol><h2 id='pose-detection'><a class='anchor' aria-hidden='true' href='#pose-detection'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Pose Detection</h2><ol start="1"><li><p>Open <strong>AndroidManifest.xml</strong>.</p></li><li><p>Add the PoseProcessorActivity that is included in the com.mobiledgex.computervision library.</p></li></ol><pre><code>&lt;activity
    android:name=&quot;com.mobiledgex.computervision.PoseProcessorActivity&quot;
    android:label=&quot;Pose Detector&quot;
    android:theme=&quot;@style/AppTheme.NoActionBar&quot; /&gt;</code></pre><ol start="3"><li><p>Open <strong>MainActivity.java</strong>.</p></li><li><p>Add the following import:</p></li></ol><pre><code>import com.mobiledgex.computervision.PoseProcessorActivity;
</code></pre><ol start="5"><li><p>In the onNavigationItemSelected method, redefine the Intent to be launched with the PoseProcessorActivity class. Replace ImageProcessorActivity with PoseProcessorActivity:</p></li></ol><pre><code>Intent intent = new Intent(this, PoseProcessorActivity.class);
</code></pre><ol start="6"><li><p>Now the Face Detection activity will start in Pose Detection mode.</p></li><li><p>Select the rear camera and point at someone&#039;s full body (or a group of people) to create a colored wireframe of their pose.</p></li></ol>

      <figure class="">
  <img src="/assets/how-to-android-workshop-add-face-detection-to-workshop-app/6.jpg" class="img-fluid slb" alt="">
  <figcaption>Example 3: Pose Detection</figcaption>
</figure>


      <h2 id='multi-purpose-app'><a class='anchor' aria-hidden='true' href='#multi-purpose-app'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a><strong>Multi-Purpose App</strong></h2><p>You can add a new menu entry for each of these different detection modes, and demonstrate any of them without needing code changes in between. Hint: Additional menu items are added in <strong>app/res/menu/activity<em>main</em>drawer.xml</strong> and the different ways you launched the intent above, can be added as separate &quot;if else&quot; blocks in onNavigationItemSelected().</p><h2 id='video-playback'><a class='anchor' aria-hidden='true' href='#video-playback'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Video Playback</h2><p>In any of the modes, the camera class is capable of playing a canned video, one of which is included in the library. This is useful for running a demo where the Android phone may be unattended at times. Try it out by tapping the options menu, and selecting &quot;Play Video&quot;.</p><h2 id='another-speed-up-persistent-tcp-connection'><a class='anchor' aria-hidden='true' href='#another-speed-up-persistent-tcp-connection'><svg class='octicon octicon-link' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'><path fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'></path></svg></a>Another Speed-Up: Persistent TCP Connection</h2><p>By default, the openXEdge Computer Vision library communicates to the server running on the Edge cloudlet via a REST interface. Both our server and our library support a persistent TCP connection mode, which can achieve significant speed improvements. To use the persistent TCP connection mode, we just need to turn on that option. See Computer Vision Persistent TCP Connection for more background and details.</p><p>In <strong>FaceProcessorFragment.java</strong>, right after &quot;mImageSenderEdge = new ImageSender&quot;, add the following:</p><pre><code>ImageSender.setPreferencesConnectionMode(ImageSender.ConnectionMode.PERSISTENT_TCP, mImageSenderEdge);</code></pre>

  
</div>

              <link rel="stylesheet" href="/css/simplebox.min.css" />
<script src="/js/simplebox.min.js"></script>
<script type="text/javascript">
  $(function() {
    $(".slb").simplebox()
  });
</script>

<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <a class="brand" href="/"></a>
        <div class="text-center"><p> <a href="https://openxedge.net/privacy-policy/">Privacy Policy</a> | <a href="https://console.openxedge.net/#/terms-of-use">Terms of Use</a> | <a href="https://openxedge.net/contact/">Contact</a></p>
</div>
      </div>
    </div>
  </div>

            </div>
          </div>
        </div>
      </main>
            
    </div>
  </div>

  

    <script type="text/javascript">
    tocbot.init({
      // Where to render the table of contents.
      tocSelector: '.toc',
      // Where to grab the headings to build the table of contents.
      contentSelector: '.duik-content',
      // Which headings to grab inside of the contentSelector element.
      headingSelector: 'h2, h3',
      // For headings inside relative or absolute positioned containers within content.
      hasInnerContainers: false,
      listItemClass: 'duik-content-nav__item',
      orderedList: false,
      listClass: 'js-scroll-nav duik-content-nav',
      collapseDepth: 6,
      activeLinkClass: 'active',
    })
    $(document).ready(function() {
      hljs.highlightAll()
    });
  </script>
  </body>

</html>
